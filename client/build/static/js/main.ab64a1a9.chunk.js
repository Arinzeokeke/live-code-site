(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{416:function(e,t,a){e.exports=a(484)},473:function(e,t){},478:function(e,t,a){var n={"./abap":63,"./abap.js":63,"./abc":64,"./abc.js":64,"./actionscript":65,"./actionscript.js":65,"./ada":66,"./ada.js":66,"./apache_conf":67,"./apache_conf.js":67,"./applescript":68,"./applescript.js":68,"./asciidoc":69,"./asciidoc.js":69,"./assembly_x86":70,"./assembly_x86.js":70,"./autohotkey":71,"./autohotkey.js":71,"./batchfile":72,"./batchfile.js":72,"./bro":73,"./bro.js":73,"./c9search":74,"./c9search.js":74,"./c_cpp":75,"./c_cpp.js":75,"./cirru":76,"./cirru.js":76,"./clojure":77,"./clojure.js":77,"./cobol":78,"./cobol.js":78,"./coffee":79,"./coffee.js":79,"./coldfusion":80,"./coldfusion.js":80,"./csharp":81,"./csharp.js":81,"./csound_document":82,"./csound_document.js":82,"./csound_orchestra":83,"./csound_orchestra.js":83,"./csound_score":84,"./csound_score.js":84,"./css":85,"./css.js":85,"./curly":86,"./curly.js":86,"./d":87,"./d.js":87,"./dart":88,"./dart.js":88,"./diff":89,"./diff.js":89,"./django":90,"./django.js":90,"./dockerfile":91,"./dockerfile.js":91,"./dot":92,"./dot.js":92,"./drools":93,"./drools.js":93,"./eiffel":94,"./eiffel.js":94,"./ejs":95,"./ejs.js":95,"./elixir":96,"./elixir.js":96,"./elm":97,"./elm.js":97,"./erlang":98,"./erlang.js":98,"./forth":99,"./forth.js":99,"./fortran":100,"./fortran.js":100,"./ftl":101,"./ftl.js":101,"./gcode":102,"./gcode.js":102,"./gherkin":103,"./gherkin.js":103,"./gitignore":104,"./gitignore.js":104,"./glsl":105,"./glsl.js":105,"./gobstones":106,"./gobstones.js":106,"./golang":107,"./golang.js":107,"./graphqlschema":108,"./graphqlschema.js":108,"./groovy":109,"./groovy.js":109,"./haml":110,"./haml.js":110,"./handlebars":111,"./handlebars.js":111,"./haskell":112,"./haskell.js":112,"./haskell_cabal":113,"./haskell_cabal.js":113,"./haxe":114,"./haxe.js":114,"./hjson":115,"./hjson.js":115,"./html":116,"./html.js":116,"./html_elixir":117,"./html_elixir.js":117,"./html_ruby":118,"./html_ruby.js":118,"./ini":119,"./ini.js":119,"./io":120,"./io.js":120,"./jack":121,"./jack.js":121,"./jade":122,"./jade.js":122,"./java":123,"./java.js":123,"./javascript":124,"./javascript.js":124,"./json":125,"./json.js":125,"./jsoniq":126,"./jsoniq.js":126,"./jsp":127,"./jsp.js":127,"./jssm":128,"./jssm.js":128,"./jsx":37,"./jsx.js":37,"./julia":129,"./julia.js":129,"./kotlin":130,"./kotlin.js":130,"./latex":131,"./latex.js":131,"./lean":132,"./lean.js":132,"./less":133,"./less.js":133,"./liquid":134,"./liquid.js":134,"./lisp":135,"./lisp.js":135,"./live_script":136,"./live_script.js":136,"./livescript":137,"./livescript.js":137,"./logiql":138,"./logiql.js":138,"./lsl":139,"./lsl.js":139,"./lua":140,"./lua.js":140,"./luapage":142,"./luapage.js":142,"./lucene":143,"./lucene.js":143,"./makefile":144,"./makefile.js":144,"./markdown":145,"./markdown.js":145,"./mask":146,"./mask.js":146,"./matlab":147,"./matlab.js":147,"./mavens_mate_log":148,"./mavens_mate_log.js":148,"./maze":149,"./maze.js":149,"./mel":150,"./mel.js":150,"./mips_assembler":151,"./mips_assembler.js":151,"./mipsassembler":152,"./mipsassembler.js":152,"./mushcode":153,"./mushcode.js":153,"./mysql":154,"./mysql.js":154,"./nix":155,"./nix.js":155,"./nsis":156,"./nsis.js":156,"./objectivec":157,"./objectivec.js":157,"./ocaml":158,"./ocaml.js":158,"./pascal":159,"./pascal.js":159,"./perl":160,"./perl.js":160,"./pgsql":161,"./pgsql.js":161,"./php":162,"./php.js":162,"./pig":163,"./pig.js":163,"./plain_text":164,"./plain_text.js":164,"./powershell":165,"./powershell.js":165,"./praat":166,"./praat.js":166,"./prolog":167,"./prolog.js":167,"./properties":168,"./properties.js":168,"./protobuf":169,"./protobuf.js":169,"./python":170,"./python.js":170,"./r":171,"./r.js":171,"./razor":172,"./razor.js":172,"./rdoc":173,"./rdoc.js":173,"./red":174,"./red.js":174,"./rhtml":175,"./rhtml.js":175,"./rst":176,"./rst.js":176,"./ruby":177,"./ruby.js":177,"./rust":178,"./rust.js":178,"./sass":179,"./sass.js":179,"./scad":180,"./scad.js":180,"./scala":181,"./scala.js":181,"./scheme":182,"./scheme.js":182,"./scss":183,"./scss.js":183,"./sh":184,"./sh.js":184,"./sjs":185,"./sjs.js":185,"./smarty":186,"./smarty.js":186,"./snippets":187,"./snippets.js":187,"./soy_template":188,"./soy_template.js":188,"./space":189,"./space.js":189,"./sparql":190,"./sparql.js":190,"./sql":191,"./sql.js":191,"./sqlserver":192,"./sqlserver.js":192,"./stylus":193,"./stylus.js":193,"./svg":194,"./svg.js":194,"./swift":195,"./swift.js":195,"./swig":196,"./swig.js":196,"./tcl":197,"./tcl.js":197,"./tex":198,"./tex.js":198,"./text":199,"./text.js":199,"./textile":200,"./textile.js":200,"./toml":201,"./toml.js":201,"./tsx":202,"./tsx.js":202,"./turtle":203,"./turtle.js":203,"./twig":204,"./twig.js":204,"./typescript":205,"./typescript.js":205,"./vala":206,"./vala.js":206,"./vbscript":207,"./vbscript.js":207,"./velocity":208,"./velocity.js":208,"./verilog":209,"./verilog.js":209,"./vhdl":210,"./vhdl.js":210,"./wollok":211,"./wollok.js":211,"./xml":212,"./xml.js":212,"./xquery":213,"./xquery.js":213,"./yaml":214,"./yaml.js":214};function s(e){var t=r(e);return a(t)}function r(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=478},481:function(e,t,a){var n={"./abap":215,"./abap.js":215,"./abc":216,"./abc.js":216,"./actionscript":217,"./actionscript.js":217,"./ada":218,"./ada.js":218,"./apache_conf":219,"./apache_conf.js":219,"./applescript":220,"./applescript.js":220,"./asciidoc":221,"./asciidoc.js":221,"./assembly_x86":222,"./assembly_x86.js":222,"./autohotkey":223,"./autohotkey.js":223,"./batchfile":224,"./batchfile.js":224,"./bro":225,"./bro.js":225,"./c9search":226,"./c9search.js":226,"./c_cpp":227,"./c_cpp.js":227,"./cirru":228,"./cirru.js":228,"./clojure":229,"./clojure.js":229,"./cobol":230,"./cobol.js":230,"./coffee":231,"./coffee.js":231,"./coldfusion":232,"./coldfusion.js":232,"./csharp":233,"./csharp.js":233,"./csound_document":234,"./csound_document.js":234,"./csound_orchestra":235,"./csound_orchestra.js":235,"./csound_score":236,"./csound_score.js":236,"./css":237,"./css.js":237,"./curly":238,"./curly.js":238,"./d":239,"./d.js":239,"./dart":240,"./dart.js":240,"./diff":241,"./diff.js":241,"./django":242,"./django.js":242,"./dockerfile":243,"./dockerfile.js":243,"./dot":244,"./dot.js":244,"./drools":245,"./drools.js":245,"./eiffel":246,"./eiffel.js":246,"./ejs":247,"./ejs.js":247,"./elixir":248,"./elixir.js":248,"./elm":249,"./elm.js":249,"./erlang":250,"./erlang.js":250,"./forth":251,"./forth.js":251,"./fortran":252,"./fortran.js":252,"./ftl":253,"./ftl.js":253,"./gcode":254,"./gcode.js":254,"./gherkin":255,"./gherkin.js":255,"./gitignore":256,"./gitignore.js":256,"./glsl":257,"./glsl.js":257,"./gobstones":258,"./gobstones.js":258,"./golang":259,"./golang.js":259,"./graphqlschema":260,"./graphqlschema.js":260,"./groovy":261,"./groovy.js":261,"./haml":262,"./haml.js":262,"./handlebars":263,"./handlebars.js":263,"./haskell":264,"./haskell.js":264,"./haskell_cabal":265,"./haskell_cabal.js":265,"./haxe":266,"./haxe.js":266,"./hjson":267,"./hjson.js":267,"./html":268,"./html.js":268,"./html_elixir":269,"./html_elixir.js":269,"./html_ruby":270,"./html_ruby.js":270,"./ini":271,"./ini.js":271,"./io":272,"./io.js":272,"./jack":273,"./jack.js":273,"./jade":274,"./jade.js":274,"./java":275,"./java.js":275,"./javascript":276,"./javascript.js":276,"./json":277,"./json.js":277,"./jsoniq":278,"./jsoniq.js":278,"./jsp":279,"./jsp.js":279,"./jssm":280,"./jssm.js":280,"./jsx":281,"./jsx.js":281,"./julia":282,"./julia.js":282,"./kotlin":283,"./kotlin.js":283,"./latex":284,"./latex.js":284,"./lean":285,"./lean.js":285,"./less":286,"./less.js":286,"./liquid":287,"./liquid.js":287,"./lisp":288,"./lisp.js":288,"./live_script":289,"./live_script.js":289,"./livescript":290,"./livescript.js":290,"./logiql":291,"./logiql.js":291,"./lsl":292,"./lsl.js":292,"./lua":293,"./lua.js":293,"./luapage":294,"./luapage.js":294,"./lucene":295,"./lucene.js":295,"./makefile":296,"./makefile.js":296,"./markdown":297,"./markdown.js":297,"./mask":298,"./mask.js":298,"./matlab":299,"./matlab.js":299,"./maze":300,"./maze.js":300,"./mel":301,"./mel.js":301,"./mips_assembler":302,"./mips_assembler.js":302,"./mipsassembler":303,"./mipsassembler.js":303,"./mushcode":304,"./mushcode.js":304,"./mysql":305,"./mysql.js":305,"./nix":306,"./nix.js":306,"./nsis":307,"./nsis.js":307,"./objectivec":308,"./objectivec.js":308,"./ocaml":309,"./ocaml.js":309,"./pascal":310,"./pascal.js":310,"./perl":311,"./perl.js":311,"./pgsql":312,"./pgsql.js":312,"./php":313,"./php.js":313,"./pig":314,"./pig.js":314,"./plain_text":315,"./plain_text.js":315,"./powershell":316,"./powershell.js":316,"./praat":317,"./praat.js":317,"./prolog":318,"./prolog.js":318,"./properties":319,"./properties.js":319,"./protobuf":320,"./protobuf.js":320,"./python":321,"./python.js":321,"./r":322,"./r.js":322,"./razor":323,"./razor.js":323,"./rdoc":324,"./rdoc.js":324,"./red":325,"./red.js":325,"./rhtml":326,"./rhtml.js":326,"./rst":327,"./rst.js":327,"./ruby":328,"./ruby.js":328,"./rust":329,"./rust.js":329,"./sass":330,"./sass.js":330,"./scad":331,"./scad.js":331,"./scala":332,"./scala.js":332,"./scheme":333,"./scheme.js":333,"./scss":334,"./scss.js":334,"./sh":335,"./sh.js":335,"./sjs":336,"./sjs.js":336,"./smarty":337,"./smarty.js":337,"./snippets":338,"./snippets.js":338,"./soy_template":339,"./soy_template.js":339,"./space":340,"./space.js":340,"./sparql":341,"./sparql.js":341,"./sql":342,"./sql.js":342,"./sqlserver":343,"./sqlserver.js":343,"./stylus":344,"./stylus.js":344,"./svg":345,"./svg.js":345,"./swift":346,"./swift.js":346,"./swig":347,"./swig.js":347,"./tcl":348,"./tcl.js":348,"./tex":349,"./tex.js":349,"./text":350,"./text.js":350,"./textile":351,"./textile.js":351,"./toml":352,"./toml.js":352,"./tsx":353,"./tsx.js":353,"./turtle":354,"./turtle.js":354,"./twig":355,"./twig.js":355,"./typescript":356,"./typescript.js":356,"./vala":357,"./vala.js":357,"./vbscript":358,"./vbscript.js":358,"./velocity":359,"./velocity.js":359,"./verilog":360,"./verilog.js":360,"./vhdl":361,"./vhdl.js":361,"./wollok":362,"./wollok.js":362,"./xml":363,"./xml.js":363,"./xquery":364,"./xquery.js":364,"./yaml":365,"./yaml.js":365};function s(e){var t=r(e);return a(t)}function r(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=481},482:function(e,t,a){var n={"./ambiance":366,"./ambiance.js":366,"./chaos":367,"./chaos.js":367,"./chrome":368,"./chrome.js":368,"./clouds":369,"./clouds.js":369,"./clouds_midnight":370,"./clouds_midnight.js":370,"./cobalt":371,"./cobalt.js":371,"./crimson_editor":372,"./crimson_editor.js":372,"./dawn":373,"./dawn.js":373,"./dracula":374,"./dracula.js":374,"./dreamweaver":375,"./dreamweaver.js":375,"./eclipse":376,"./eclipse.js":376,"./github":377,"./github.js":377,"./gob":378,"./gob.js":378,"./gruvbox":379,"./gruvbox.js":379,"./idle_fingers":380,"./idle_fingers.js":380,"./iplastic":381,"./iplastic.js":381,"./katzenmilch":382,"./katzenmilch.js":382,"./kr_theme":383,"./kr_theme.js":383,"./kuroir":384,"./kuroir.js":384,"./merbivore":385,"./merbivore.js":385,"./merbivore_soft":386,"./merbivore_soft.js":386,"./mono_industrial":387,"./mono_industrial.js":387,"./monokai":388,"./monokai.js":388,"./pastel_on_dark":389,"./pastel_on_dark.js":389,"./solarized_dark":390,"./solarized_dark.js":390,"./solarized_light":391,"./solarized_light.js":391,"./sqlserver":392,"./sqlserver.js":392,"./terminal":393,"./terminal.js":393,"./textmate":394,"./textmate.js":394,"./tomorrow":395,"./tomorrow.js":395,"./tomorrow_night":396,"./tomorrow_night.js":396,"./tomorrow_night_blue":397,"./tomorrow_night_blue.js":397,"./tomorrow_night_bright":398,"./tomorrow_night_bright.js":398,"./tomorrow_night_eighties":399,"./tomorrow_night_eighties.js":399,"./twilight":400,"./twilight.js":400,"./vibrant_ink":401,"./vibrant_ink.js":401,"./xcode":402,"./xcode.js":402};function s(e){var t=r(e);return a(t)}function r(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=482},484:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(403),c=a.n(r),o=a(15);a(423),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(4),i=a(9),u=a(6),m=a(5),h=a(7),p=a(486),j=a(487),d=a(489),v=a(488),f=a(2),g=a.n(f),b=a(13),y=a(405),E=a.n(y).a.create({timeout:3e4});E.interceptors.request.use(function(e){return window.localStorage.getItem("csc_333_jwt")&&(e.headers.authorization="Bearer ".concat(window.localStorage.getItem("csc_333_jwt"))),e},function(e){return Promise.reject(e)}),E.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e.response.data)});var w={create:function(e){return E.post("/api/v1/users",e)},index:function(){return E.get("/users")},show:function(e){return E.get("/api/v1/users/".concat(e))},login:function(e){var t=e.username,a=e.password;return E.post("/api/v1/users/login",{username:t,password:a})},current:function(){return E.get("/api/v1/users/current")},channels:function(e){return E.get("/api/v1/users/".concat(e,"/channels"))}},k=function(e){return E.post("/api/v1/channels",e)},x=function(e){return E.get("/api/v1/channels/".concat(e))},_=function(e,t){return E.post("/api/v1/channels/".concat(e,"/post/write"),t)},O=function(e,t){return E.post("/api/v1/channels/".concat(e,"/write-access"),{writers:t})},N=function(e,t){return E.post("/api/v1/channels/".concat(e,"/revoke-access"),{writers:t})},S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={user:null,loaded:!1,error:null},a.appLoad=Object(b.a)(g.a.mark(function e(){var t,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==window.localStorage.getItem("csc_333_jwt")){e.next=5;break}return e.next=3,a.setState(function(e){return{user:null,loaded:!0,error:null}});case 3:e.next=20;break;case 5:return e.prev=5,e.next=8,w.current();case 8:return t=e.sent,n=t.user,e.next=12,a.setState(function(e){return{user:n,loaded:!0,error:null}});case 12:window.localStorage.setItem("csc_333_jwt",n.token),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(5),e.next=19,a.setState(function(t){return{error:e.t0,loaded:!0,user:null}});case 19:console.log("App Loading");case 20:case"end":return e.stop()}},e,this,[[5,15]])})),a.login=function(){var e=Object(b.a)(g.a.mark(function e(t,n){var s,r,c,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.username,r=t.password,console.log("called login"),e.prev=2,e.next=5,w.login({username:s,password:r});case 5:return c=e.sent,o=c.user,e.next=9,a.setState(function(e){return{user:o,loaded:!0,error:null}});case 9:window.localStorage.setItem("csc_333_jwt",o.token),n.push("/"),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,a.setState(function(t){return{error:e.t0,loaded:!0,user:null}});case 17:console.log("didnt log in",e.t0);case 18:case"end":return e.stop()}},e,this,[[2,13]])}));return function(t,a){return e.apply(this,arguments)}}(),a.logout=Object(b.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.removeItem("csc_333_jwt"),e.next=3,a.setState(function(e){return{user:null,loaded:!0,error:null}});case 3:case"end":return e.stop()}},e,this)})),a.register=function(){var e=Object(b.a)(g.a.mark(function e(t,n){var s,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.create(t);case 3:return s=e.sent,r=s.user,e.next=7,a.setState(function(e){return{user:r,loaded:!0,error:null}});case 7:window.localStorage.setItem("csc_333_jwt",r.token),n.push("/"),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,a.setState(function(t){return{error:e.t0,loaded:!0,user:null}});case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),t}(o.a),C=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.props.appLoad()}},{key:"render",value:function(){return this.props.loaded?this.props.children:s.a.createElement("div",null,s.a.createElement("p",null," Loading..."))}}]),t}(n.Component),q=function(e){return s.a.createElement(o.c,{to:[S]},function(t){var a=t.state,n=a.user,r=a.loaded,c=t.appLoad;return s.a.createElement(C,Object.assign({},e,{user:n,loaded:r,appLoad:c}))})},A=a(485),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={active:!1},a.toggleActive=function(){return a.setState(function(e){return{active:!e.active}})},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.active?"is-active":"";return s.a.createElement("nav",{className:"navbar is-primary",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement("p",{style:{fontFamily:["Pacifico","cursive"],fontSize:"3rem",padding:"0.3rem"}},"Collaborate."),s.a.createElement("a",{className:"navbar-burger burger ".concat(e),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",onClick:this.toggleActive,role:"button"},s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}))),s.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu ".concat(e)},s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("div",{className:"buttons"},this.props.user?s.a.createElement(s.a.Fragment,null,s.a.createElement(A.a,{to:"/".concat(this.props.user.username,"/channels"),className:"button is-primary"},s.a.createElement("strong",null,"Your Channels")),s.a.createElement(A.a,{to:"/channels/create",className:"button is-primary"},s.a.createElement("strong",null,"Create A Channel")),s.a.createElement("button",{className:"button is-danger",onClick:this.props.logout},"Log Out")):s.a.createElement(s.a.Fragment,null,s.a.createElement(A.a,{to:"/register",className:"button is-primary"},s.a.createElement("strong",null,"Sign up")),s.a.createElement(A.a,{className:"button is-light",to:"/login"},"Log in")))))))}}]),t}(s.a.Component),z=function(e){return s.a.createElement(o.c,{to:[S]},function(t){var a=t.state.user,n=t.logout;return s.a.createElement(L,Object.assign({},e,{user:a,logout:n}))})},F=a(19),W=a(406),P=a(407);function I(){var e=Object(W.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return I=function(){return e},e}var M=Object(P.a)(I()),U=function(e){return e?void 0:"Required"},D=function(e){return e.password!==e.confirmPassword?{confirmPassword:"Must be same with password"}:{}},T=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.validators,n=e.label,r=e.type,c=e.selectElems,o=e.isTextArea;return s.a.createElement(F.a,{name:t,validate:function(e){return function(t){return e.reduce(function(e,a){return e||a(t)},void 0)}}(a)},function(e){var a=e.input,l=e.meta,i=l.error&&l.touched,u=l.touched&&!l.error,m=i?"invalid":u?"valid":null;return s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control "},o?s.a.createElement(s.a.Fragment,null,s.a.createElement("textarea",Object.assign({},a,{id:t,type:r,className:"".concat(m," materialize-textarea")}))):c?s.a.createElement("div",{className:"select is-info ".concat(m,"  is-rounded"),style:{width:"100%"}},s.a.createElement("select",Object.assign({},a,{style:{width:"100%"}}),c.map(function(e){var t=e.id,a=e.name;return s.a.createElement("option",{value:t,key:"".concat(t,"-").concat(a)},a)}))):s.a.createElement(s.a.Fragment,null,s.a.createElement("input",Object.assign({},a,{id:t,type:r,placeholder:n,className:"input ".concat(m)})))))})}}]),t}(s.a.Component),B=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(){var e=Object(b.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.props),this.props.login(t,this.props.history);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:M,style:{minWidth:"50%"}},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("p",{className:" card-header-title"},"Login")),s.a.createElement("div",{className:"card-content"},s.a.createElement(F.b,{onSubmit:this.handleSubmit.bind(this),render:function(e){var t=e.handleSubmit;e.submitting,e.valid;return s.a.createElement("form",{onSubmit:t},s.a.createElement(s.a.Fragment,null,s.a.createElement(T,{name:"username",label:"Username",validators:[U],type:"text"}),s.a.createElement(T,{name:"password",label:"Password",validators:[U],type:"password"}),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control ".concat(M)},s.a.createElement("button",{type:"submit",className:"button is-primary"},"Login")))))}}))))}}]),t}(s.a.Component),G=function(e){return s.a.createElement(o.c,{to:[S]},function(t){var a=t.state.error,n=t.login;return s.a.createElement(B,Object.assign({},e,{login:n,error:a}))})},H=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){console.log(e),this.props.register(e,this.props.history)}},{key:"render",value:function(){return s.a.createElement("div",{className:M,style:{minWidth:"50%"}},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("p",{className:" card-header-title"},"Sign Up")),s.a.createElement("div",{className:"card-content"},s.a.createElement(F.b,{onSubmit:this.handleSubmit.bind(this),validate:D,render:function(e){var t=e.handleSubmit;e.submitting,e.valid;return s.a.createElement("form",{onSubmit:t,className:"col s12"},s.a.createElement(s.a.Fragment,null,s.a.createElement(T,{name:"username",label:"Username",validators:[U],type:"text"}),s.a.createElement(T,{name:"email",label:"Email",validators:[U],type:"email"}),s.a.createElement(T,{name:"password",label:"Password",validators:[U],type:"password"}),s.a.createElement(T,{name:"confirmPassword",label:"Confirm Password",validators:[U],type:"password"}),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control ".concat(M)},s.a.createElement("button",{type:"submit",className:"button is-primary"},"Register")))))}}))))}}]),t}(s.a.Component),R=function(e){return s.a.createElement(o.c,{to:[S]},function(t){var a=t.state.error,n=t.register;return s.a.createElement(H,Object.assign({},e,{register:n,error:a}))})},V=a(409),Y=a.n(V),J=function(e){var t=e.channel;return s.a.createElement("div",{className:"card"},s.a.createElement("header",{className:"card-header"},s.a.createElement("p",{className:"card-header-title"},"".concat(t.title))),s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"content"},"Created by @",t.owner.username,s.a.createElement("br",null),s.a.createElement("em",null,Y()(t.createdAt).fromNow()))),s.a.createElement("footer",{className:"card-footer"},s.a.createElement(A.a,{to:"/channels/".concat(t.id),className:"card-footer-item"},"View Channel")))},$=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={channels:[],loading:!0,error:null},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadChannels()}},{key:"loadChannels",value:function(){var e=Object(b.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!1}),t=this.props.match.params.username,e.prev=2,e.next=5,w.channels(t);case 5:a=e.sent,n=a.channels,console.log(n),this.setState({channels:n,loading:!1,username:t}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.setState({loading:!1,error:e.t0,username:t});case 14:case"end":return e.stop()}},e,this,[[2,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.channels,a=e.error;return e.loading?s.a.createElement("p",null,"Loading..."):a?s.a.createElement("p",null,"Error loading channels"):t.length<1?s.a.createElement("p",null,"No Channels Created Yet"):s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{style:{textAlign:"center",fontSize:"2rem"}},this.state.username,"'s Channels"),s.a.createElement("hr",null),s.a.createElement("div",{className:"columns is-multiline is-centered"},t.map(function(e){return s.a.createElement("div",{className:"column is-one-quarter",key:e.id},s.a.createElement(J,{channel:e}))})))}}]),t}(s.a.Component),K=a(28),Q=a(18),X=a(410),Z=a.n(X),ee=a(411),te=a.n(ee),ae=a(412),ne=a.n(ae),se=(a(37),function(e){var t=e.channel,a=t.participants,n=t.writers,r=t.owner,c=e.isOwner,o=e.giveWriteAccess,l=e.revokeWriteAccess,i=e.user;return s.a.createElement("nav",{className:"panel"},s.a.createElement("p",{className:"panel-heading"},a.length," Online"),a.map(function(e){var t=e.username===r.username,a=n.some(function(t){return t.username===e.username});return s.a.createElement("div",{className:"panel-block",key:e.id},s.a.createElement("span",{className:"panel-icon"},s.a.createElement("i",{className:"fas fa-code-branch","aria-hidden":"true"})),e.username,a&&s.a.createElement("span",{className:"tag is-primary",style:{marginLeft:"1rem"}},"Write Access"),t&&s.a.createElement("span",{className:"tag is-link",style:{marginLeft:"1rem"}},"Owner"),e.id==i.id&&s.a.createElement("span",{className:"tag is-danger",style:{marginLeft:"1rem"}},"You"),c&&!t&&s.a.createElement("div",{className:"is-pulled-right",style:{paddingLeft:"40%"}},a?s.a.createElement("button",{className:"button is-danger is-outlined is-pulled-right",onClick:function(){return l(e.username)}},"Revoke Write Access"):s.a.createElement("button",{className:"button is-primary is-outlined is-pulled-right",onClick:function(){return o(e.username)}},"Give Write Access")))}))}),re=["javascript","java","python","xml","ruby","sass","markdown","mysql","json","html","handlebars","golang","csharp","elixir","typescript","css"],ce=(a(476),a(477),["monokai","github","tomorrow","kuroir","twilight","xcode","textmate","solarized_dark","solarized_light","terminal"]);re.forEach(function(e){a(478)("./".concat(e)),a(481)("./".concat(e))}),ce.forEach(function(e){a(482)("./".concat(e))});var oe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={channel:null,loading:!0,error:null,isOwner:!1,isWriter:!1,modeChanging:!1,value:"",readOnly:!1,theme:"tomorrow",enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,fontSize:16,showGutter:!0,showPrintMargin:!0,highlightActiveLine:!0,enableSnippets:!1,showLineNumbers:!0,socket:null},a.debouncedSendChanges=te()(a.sendChanges,1e3),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchChannel()}},{key:"componentWillUnmount",value:function(){this.state.socket.emit("leave:channel",{channelId:this.state.channel.id})}},{key:"socketSetup",value:function(e){var t=this,a=ne()({query:{username:this.props.user.username}}),n=function(e){var a=e.data.channel;console.log("channel updated",a),t.setState(function(e){return{channel:a}},function(){return t.resolvePermissions()})},s=function(e){var a=e.data.participants;console.log("participants updated",a),t.setState(function(e){return{channel:Object(Q.a)({},e.channel,{participants:a})}})};a.on("reconnect_attempt",function(){a.io.opts.query={username:t.props.user.username}}),a.on("connect",function(){a.emit("join:channel",{channelId:e.id})}),a.on("joined:channel",s.bind(this)),a.on("left:channel",s.bind(this)),a.on("writer:add",n.bind(this)),a.on("channel:edit",n.bind(this)),a.on("writer:remove",n.bind(this)),a.on("edit:post",function(e){var a=e.data.post;console.log("post updated",a),t.setState(function(e){return{channel:Object(Q.a)({},e.channel,{post:a}),value:a.content}})}.bind(this)),this.setState({socket:a})}},{key:"fetchChannel",value:function(){var e=Object(b.a)(g.a.mark(function e(){var t,a,n,s=this;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this.props.match.params.id,e.prev=2,e.next=5,x(t);case 5:a=e.sent,n=a.channel,this.setState({channel:n,loading:!1,mode:n.post.extension,value:n.post.content},function(){return s.resolvePermissions()}),this.socketSetup(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.setState({loading:!1,error:e.t0});case 14:case"end":return e.stop()}},e,this,[[2,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"resolvePermissions",value:function(){var e=this,t=this.state.channel;console.log(t,this.props);var a=this.props.user.username===t.owner.username,n=t.writers.some(function(t){return t.username===e.props.user.username});this.setState({isOwner:a,isWriter:n})}},{key:"giveWriteAccess",value:function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,s=this;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(this.state.channel.id,[t]);case 3:a=e.sent,n=a.channel,this.setState(function(e){return{channel:n}},function(){return s.resolvePermissions()}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"revokeWriteAccess",value:function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,s=this;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(this.state.channel.id,[t]);case 3:a=e.sent,n=a.channel,this.setState(function(e){return{channel:n}},function(){return s.resolvePermissions()}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onLoad",value:function(){console.log("i've loaded")}},{key:"onChange",value:function(e){console.log("change",e),this.setState({value:e}),this.debouncedSendChanges()}},{key:"sendChanges",value:function(){var e=Object(b.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.value,console.log("jj"),e.prev=2,e.next=5,_(this.state.channel.id,{content:t});case 5:a=e.sent,n=a.post,this.setState(function(e){return{channel:Object(Q.a)({},e.channel,{post:n})}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"onSelectionChange",value:function(e,t){console.log("select-change",e),console.log("select-change-event",t)}},{key:"onCursorChange",value:function(e,t){console.log("cursor-change",e),console.log("cursor-change-event",t)}},{key:"onValidate",value:function(e){console.log("onValidate",e)}},{key:"setTheme",value:function(e){this.setState({theme:e.target.value})}},{key:"setMode",value:function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,s,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.channel.post.extension,n=t.target.value,console.log(n),this.setState(function(e){return{modeChanging:!0,channel:Object(Q.a)({},e.channel,{post:Object(Q.a)({},e.channel.post,{extension:n})})}}),e.prev=4,e.next=7,_(this.state.channel.id,{extension:n});case 7:s=e.sent,r=s.post,this.setState(function(e){return{modeChanging:!1,channel:Object(Q.a)({},e.channel,{post:r})}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),this.setState(function(e){return{modeChanging:!1,channel:Object(Q.a)({},e.channel,{post:Object(Q.a)({},e.channel.post,{extension:a})})}});case 15:case"end":return e.stop()}},e,this,[[4,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"setBoolean",value:function(e,t){this.setState(Object(K.a)({},e,t))}},{key:"setFontSize",value:function(e){this.setState({fontSize:parseInt(e.target.value,10)})}},{key:"renderHeader",value:function(){var e=this.state.channel;return s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-four-fifths"},s.a.createElement("p",{style:{fontSize:"2rem"}},e.title)),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"select is-rounded "},s.a.createElement("select",{name:"Theme",onChange:this.setTheme.bind(this),value:this.state.theme},ce.map(function(e){return s.a.createElement("option",{key:e,value:e},e)})))),this.state.isOwner||this.state.isWriter?s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"select is-rounded ".concat(this.state.modeChanging?"is-loading":"")},s.a.createElement("select",{name:"mode",onChange:this.setMode.bind(this),value:this.state.channel.post.extension},re.map(function(e){return s.a.createElement("option",{key:e,value:e},e)})))):null)}},{key:"renderChannel",value:function(){return console.log(this.state),s.a.createElement("div",{className:"examples column"},s.a.createElement("h2",null,"Editor"),s.a.createElement(Z.a,{mode:this.state.channel.post.extension,theme:this.state.theme,name:this.state.channel.title,onLoad:this.onLoad.bind(this),onChange:this.onChange.bind(this),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:this.state.value,width:"100%",readOnly:!(this.state.isOwner||this.state.isWriter),setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!1,showLineNumbers:!0,tabSize:2}}))}},{key:"render",value:function(){var e=this.state,t=e.channel,a=e.error;return e.loading?s.a.createElement("p",null,"Loading..."):a?s.a.createElement("p",null,"Error loading Channel"):s.a.createElement(s.a.Fragment,null,this.renderHeader(),this.renderChannel(),s.a.createElement(se,{channel:t,isOwner:this.state.isOwner,giveWriteAccess:this.giveWriteAccess.bind(this),revokeWriteAccess:this.revokeWriteAccess.bind(this),user:this.props.user}))}}]),t}(s.a.Component),le=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={error:null},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,k(t);case 4:a=e.sent,n=a.channel,this.setState({error:null}),this.props.history.push("/".concat(n.owner.username,"/channels")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),this.setState({error:e.t0});case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:M,style:{minWidth:"50%"}},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("p",{className:" card-header-title"},"Create Channel")),s.a.createElement("div",{className:"card-content"},s.a.createElement(F.b,{onSubmit:this.handleSubmit.bind(this),render:function(e){var t=e.handleSubmit,a=(e.submitting,e.valid);e.values;return s.a.createElement("form",{onSubmit:t},s.a.createElement(s.a.Fragment,null,s.a.createElement(T,{name:"title",label:"Title",validators:[U],type:"text"}),s.a.createElement(T,{name:"extension",label:"Language",validators:[U],type:"text",selectElems:re.map(function(e){return{id:e,name:e}})}),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control ".concat(M)},s.a.createElement("button",{type:"submit",className:"button is-primary",disabled:!a},"Create Channel")))))}}))))}}]),t}(s.a.Component),ie=a(415),ue=function(e){var t=e.Component,a=e.FallbackComponent,n=e.user,r=Object(ie.a)(e,["Component","FallbackComponent","user"]);return n&&t?s.a.createElement(t,Object.assign({},r,{user:n})):s.a.createElement(a,r)},me=function(e,t){return function(a){return s.a.createElement(o.c,{to:[S]},function(n){var r=n.state.user;return s.a.createElement(ue,Object.assign({user:r,FallbackComponent:t,Component:e},a))})}},he=function(e){return me(e,function(){return s.a.createElement(p.a,{to:"/login"})})},pe=he($),je=he(le),de=he(oe),ve=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(j.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(q,null,s.a.createElement(z,null),s.a.createElement("div",{style:{backgroundColor:"#FAFAFA",minHeight:"100vh",paddingTop:"3rem"}},s.a.createElement("div",{className:"container"},s.a.createElement(d.a,null,s.a.createElement(v.a,{exact:!0,path:"/",component:je}),s.a.createElement(v.a,{path:"/login",component:G}),s.a.createElement(v.a,{path:"/register",component:R}),s.a.createElement(v.a,{exact:!0,path:"/:username/channels",component:pe}),s.a.createElement(v.a,{path:"/channels/create",component:je}),s.a.createElement(v.a,{path:"/channels/:id",component:de})))))))}}]),t}(s.a.Component);c.a.render(s.a.createElement(o.b,null,s.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[416,2,1]]]);
//# sourceMappingURL=main.ab64a1a9.chunk.js.map